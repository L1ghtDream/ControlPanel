<!--suppress HtmlUnknownTarget, JSUnresolvedLibraryURL, ThymeleafVariablesResolveInspection -->
<html lang="en">
<!--suppress HtmlRequiredTitleElement -->
<head th:replace="fragments/global :: head(title='Servers')"></head>

<body>
<div id="page">
    <div class="page-content">
        <div th:replace="fragments/global :: topbar"></div>

        <div class="content-wrap">
            <div class="container">
                <div class="panel-table">
                    <table>
                        <tr class="grid-card" th:each="server : ${servers}"
                            th:onclick="redirect('/server/[[${server.serverID}]]')">
                            <td class="server">
                                <div class="server-icon"><i class="mdi mdi-server"></i></div>
                            </td>
                            <td class="server-name">
                                <div class="s-label">Name</div>
                                <div class="sn-l" th:text="${server.name}"></div>
                            </td>
                            <td class="server-type">
                                <div class="s-label">Server</div>
                                <i class="mdi mdi-database"></i>
                                <span th:text="${server.node.name} + ':' + ${server.port}"></span>
                            </td>
                            <td class="processor">
                                <div class="s-label">CPU</div>
                                <i class="mdi mdi-memory"></i>
                                <span class="cpu_usage" th:th:classappend="${server.serverID}">
                                   Loading...
                                </span>
                                <!-- <span th:text="${server.getCPUUsage} + '%'"></span> -->
                            </td>
                            <td class="ram">
                                <div class="s-label">RAM</div>
                                <i class="mdi mdi-chip"></i>
                                <span class="memory_usage" th:th:classappend="${server.serverID}">
                                   Loading...
                                </span>
                                <span>
                                    /
                                </span>
                                <span class="memory_allocation" th:th:classappend="${server.serverID}">
                                   Loading...
                                </span>
                                <!-- <span th:text="${server.getMemoryUsageFormatted} + ' / ' + ${server.getMemoryAllocationFormatted}"></span> -->
                                <!-- <span th:text="${server.getMemoryUsageFormatted}"></span> -->
                            </td>
                            <td class="storage">
                                <div class="s-label">Storage</div>
                                <i class="mdi mdi-cloud"></i>
                                <span class="storage_ussage" th:th:classappend="${server.serverID}">
                                   Loading...
                                </span>
                                <!-- <span th:text="${server.getStorageUsageFormatted}"></span> -->
                            </td>
                            <td class="status">
                                <span class="in_online" th:th:classappend="${server.serverID}">
                                   Loading...
                                </span>
                                <!--
                                <div class="bar"
                                     style="background: #8bc34a !important; box-shadow: 0 0 10px #8bc34a !important; "
                                     th:if="${server.isOnline}"></div>
                                <div class="bar"
                                     style="background: #f44336 !important; box-shadow: 0 0 10px #f4433685 !important"
                                     th:if="!${server.isOnline}"></div>
                                 -->
                            </td>
                        </tr>

                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/global :: scripts"></div>
<script src="/js/stats.js"></script>
<script>
    addStats();
</script>
</body>
</html>